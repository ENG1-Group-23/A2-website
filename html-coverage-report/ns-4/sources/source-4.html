


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > MainGameScreen</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">bytemusketeers.heslingtonhustle.screens</a>
</div>

<h1>Coverage Summary for Class: MainGameScreen (bytemusketeers.heslingtonhustle.screens)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">MainGameScreen</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    31.1%
  </span>
  <span class="absValue">
    (14/45)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0.6%
  </span>
  <span class="absValue">
    (2/342)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    25.7%
  </span>
  <span class="absValue">
    (121/471)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package bytemusketeers.heslingtonhustle.screens;
&nbsp;
&nbsp;import bytemusketeers.heslingtonhustle.HeslingtonHustle;
&nbsp;import bytemusketeers.heslingtonhustle.entity.Player;
&nbsp;import bytemusketeers.heslingtonhustle.map.GameMap;
&nbsp;import bytemusketeers.heslingtonhustle.utils.*;
&nbsp;import com.badlogic.gdx.Gdx;
&nbsp;import com.badlogic.gdx.Input;
&nbsp;import com.badlogic.gdx.InputProcessor;
&nbsp;import com.badlogic.gdx.Screen;
&nbsp;import com.badlogic.gdx.ScreenAdapter;
&nbsp;import com.badlogic.gdx.graphics.Color;
&nbsp;import com.badlogic.gdx.graphics.GL20;
&nbsp;import com.badlogic.gdx.graphics.OrthographicCamera;
&nbsp;import com.badlogic.gdx.graphics.Texture;
&nbsp;import com.badlogic.gdx.graphics.g2d.BitmapFont;
&nbsp;import com.badlogic.gdx.graphics.g2d.GlyphLayout;
&nbsp;import com.badlogic.gdx.graphics.glutils.ShapeRenderer;
&nbsp;import com.badlogic.gdx.math.Vector3;
&nbsp;import com.badlogic.gdx.utils.Align;
&nbsp;import com.badlogic.gdx.utils.ScreenUtils;
&nbsp;
&nbsp;/**
&nbsp; * The MainGameScreen class is responsible for rendering and updating all the game elements
&nbsp; * including the player, game world, UI, and handling user input during the main gameplay phase.
&nbsp; *
&nbsp; * @author ENG1 Team 25
&nbsp; * @author ENG1 Team 23
&nbsp; */
&nbsp;public class MainGameScreen extends ScreenAdapter implements Screen, InputProcessor {
&nbsp;    private final Color shader;
<b class="fc">&nbsp;    private final float zoom = 3f;</b>
&nbsp;    private final Player player;
&nbsp;    private final BitmapFont font;
&nbsp;    private final BitmapFont popupFont;
&nbsp;    private final BitmapFont durationFont;
&nbsp;    private final Score score;
&nbsp;    private final Achievement eatAch;
&nbsp;    private final Achievement recAch;
&nbsp;    private final Achievement sleepAch;
&nbsp;    private final GameMap gameMap;
&nbsp;    private final OrthographicCamera camera;
&nbsp;    private final ShapeRenderer shapeRenderer;
&nbsp;    private final HeslingtonHustle game;
&nbsp;    private final Texture menuButton;
&nbsp;    private final Texture popupMenu;
&nbsp;    private final Texture durationUpButton;
&nbsp;    private final Texture durationDownButton;
&nbsp;    private final Texture menuBackButton;
&nbsp;    private final Texture menuStudyButton;
&nbsp;    private final Texture menuSleepButton;
&nbsp;    private final Texture menuGoButton;
&nbsp;    private final Texture durationMenuBackground;
&nbsp;    private final Texture feedDuckButton;
&nbsp;    private final Texture counterBackground;
&nbsp;    private final float gameDayLengthInSeconds;
&nbsp;    private final GameTime gameTime;
&nbsp;
&nbsp;    // Non-final attributes
&nbsp;    private Texture energyBar;
&nbsp;    private float menuButtonY;
&nbsp;    private float menuButtonX;
&nbsp;    private float menuButtonWidth;
&nbsp;    private float menuButtonHeight;
&nbsp;    private float counterBackgroundY;
&nbsp;    private float counterBackgroundX;
&nbsp;    private float counterBackgroundWidth;
&nbsp;    private float counterBackgroundHeight;
&nbsp;    private float popupMenuWidth;
&nbsp;    private float popupMenuHeight;
&nbsp;    private float durationUpButtonX;
&nbsp;    private float durationDownButtonX;
&nbsp;    private float durationMenuBackgroundX;
&nbsp;    private float durationButtonY;
&nbsp;    private float durationMenuBackgroundY;
&nbsp;    private float durationUpButtonWidth;
&nbsp;    private float durationDownButtonWidth;
&nbsp;    private float durationMenuBackgroundWidth;
&nbsp;    private float durationUpButtonHeight;
&nbsp;    private float durationDownButtonHeight;
&nbsp;    private float durationMenuBackgroundHeight;
&nbsp;    private float menuBackButtonWidth;
&nbsp;    private float menuBackButtonHeight;
&nbsp;    private float activityButtonWidth;
&nbsp;    private float activityButtonHeight;
&nbsp;    private float menuBackButtonX;
&nbsp;    private float activityButtonX;
&nbsp;    private float durationMenuButtonY;
&nbsp;    private float durationTextY;
&nbsp;    private float menuTitleY;
&nbsp;    private float hoursLabelY;
&nbsp;    private float energyBarY;
&nbsp;    private float energyBarX;
&nbsp;    private float energyBarWidth;
&nbsp;    private float energyBarHeight;
&nbsp;    private String activity;
&nbsp;    private String popupMenuType;
&nbsp;    private int energyCounter;
&nbsp;    private int duration;
&nbsp;    private int dayNum;
&nbsp;    private int recActivity;
&nbsp;    private int studyHours;
&nbsp;    private int mealCount;
&nbsp;    private int dailyStudyHours;
&nbsp;    private float fadeTime;
&nbsp;    private float minShade;
&nbsp;    private boolean fadeOut;
&nbsp;    private boolean lockTime;
&nbsp;    private boolean lockMovement;
&nbsp;    private boolean lockPopup;
&nbsp;    private boolean resetPos;
&nbsp;    private boolean popupVisible;
&nbsp;    private boolean showMenu;
&nbsp;    private boolean dayStudied;
&nbsp;    private boolean hasEaten;
&nbsp;    private boolean hasExercised;
&nbsp;
&nbsp;    /**
&nbsp;     * Constructs the main game screen with necessary game components.
&nbsp;     * Initializes game map, player, camera, UI elements, and sets the initial game state.
&nbsp;     *
&nbsp;     * @param game The main game application instance.
&nbsp;     */
<b class="fc">&nbsp;    public MainGameScreen(HeslingtonHustle game, Score score, Achievement eatAch, Achievement recAch, Achievement sleepAch) {</b>
<b class="fc">&nbsp;        this.game = game;</b>
<b class="fc">&nbsp;        this.shader = new Color(0.5f, 0.5f, 0.5f, 1);</b>
<b class="fc">&nbsp;        this.gameDayLengthInSeconds = 60f;</b>
&nbsp;
&nbsp;        // Initialize final Texture objects
<b class="fc">&nbsp;        this.menuButton = new Texture(&quot;menu_buttons/menu_icon.png&quot;);</b>
<b class="fc">&nbsp;        this.counterBackground = new Texture(&quot;counter_background.png&quot;);</b>
<b class="fc">&nbsp;        this.popupMenu = new Texture(&quot;popup_menu.png&quot;);</b>
<b class="fc">&nbsp;        this.durationMenuBackground = new Texture(&quot;duration_menu_background.png&quot;);</b>
<b class="fc">&nbsp;        this.durationUpButton = new Texture(&quot;settings_gui/arrow_right_button.png&quot;);</b>
<b class="fc">&nbsp;        this.durationDownButton = new Texture(&quot;settings_gui/arrow_left_button.png&quot;);</b>
<b class="fc">&nbsp;        this.menuBackButton = new Texture(&quot;settings_gui/back_button.png&quot;);</b>
<b class="fc">&nbsp;        this.menuStudyButton = new Texture(&quot;study_button.png&quot;);</b>
<b class="fc">&nbsp;        this.menuSleepButton = new Texture(&quot;sleep_button.png&quot;);</b>
<b class="fc">&nbsp;        this.menuGoButton = new Texture(&quot;go_button.png&quot;);</b>
<b class="fc">&nbsp;        this.feedDuckButton = new Texture(&quot;feed_button.png&quot;);</b>
&nbsp;
&nbsp;        // Initialize non-final attributes
<b class="fc">&nbsp;        this.activity = &quot;&quot;;</b>
<b class="fc">&nbsp;        this.popupMenuType = &quot;&quot;;</b>
<b class="fc">&nbsp;        this.energyCounter = 10;</b>
<b class="fc">&nbsp;        this.duration = 1;</b>
<b class="fc">&nbsp;        this.dayNum = 1;</b>
<b class="fc">&nbsp;        this.gameTime = new GameTime(0f, this.gameDayLengthInSeconds / 16, 10);</b>
<b class="fc">&nbsp;        this.fadeTime = 0;</b>
<b class="fc">&nbsp;        this.minShade = 0;</b>
<b class="fc">&nbsp;        this.dailyStudyHours = 0;</b>
<b class="fc">&nbsp;        this.dayStudied = false;</b>
<b class="fc">&nbsp;        this.hasEaten = false;</b>
<b class="fc">&nbsp;        this.hasExercised = false;</b>
<b class="fc">&nbsp;        this.fadeOut = this.lockTime = this.lockMovement = this.lockPopup = this.resetPos = this.popupVisible =</b>
&nbsp;                this.showMenu = false;
&nbsp;
&nbsp;        // Setting up the game
<b class="fc">&nbsp;        this.camera = new OrthographicCamera();</b>
<b class="fc">&nbsp;        this.gameMap = new GameMap(this.camera, game.renderer, game.tiledMap);</b>
<b class="fc">&nbsp;        this.player = new Player(this.game, this.gameMap, this.camera);</b>
<b class="fc">&nbsp;        this.score = score;</b>
<b class="fc">&nbsp;        this.eatAch = eatAch;</b>
<b class="fc">&nbsp;        this.recAch = recAch;</b>
<b class="fc">&nbsp;        this.sleepAch = sleepAch;</b>
<b class="fc">&nbsp;        this.font = new BitmapFont(Gdx.files.internal(&quot;font/WhitePeaberry.fnt&quot;));</b>
<b class="fc">&nbsp;        this.popupFont = new BitmapFont(Gdx.files.internal(&quot;font/WhitePeaberry.fnt&quot;));</b>
<b class="fc">&nbsp;        this.durationFont = new BitmapFont(Gdx.files.internal(&quot;font/WhitePeaberry.fnt&quot;));</b>
<b class="fc">&nbsp;        this.shapeRenderer = game.shapeRenderer;</b>
<b class="fc">&nbsp;        this.energyBar = setEnergyBar();</b>
&nbsp;
<b class="fc">&nbsp;        this.calculateDimensions();</b>
<b class="fc">&nbsp;        this.calculatePositions();</b>
<b class="fc">&nbsp;        this.popupFont.getData().setScale(0.4f, 0.4f);</b>
<b class="fc">&nbsp;        this.player.setPos(1389, 635);</b>
<b class="fc">&nbsp;        this.camera.setToOrtho(false, this.game.screenWidth / this.zoom, this.game.screenHeight / this.zoom);</b>
<b class="fc">&nbsp;        this.camera.update();</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;
&nbsp;    private void calculateDimensions() {
<b class="fc">&nbsp;        menuButtonWidth = 64 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        menuButtonHeight = 64 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        energyBarWidth = 200 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        energyBarHeight = 64 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        counterBackgroundWidth = 370 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        counterBackgroundHeight = 150 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        durationUpButtonWidth = 50 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        durationUpButtonHeight = 50 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        durationDownButtonWidth = 50 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        durationDownButtonHeight = 50 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        durationMenuBackgroundWidth = 500 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        durationMenuBackgroundHeight = 500 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        menuBackButtonWidth = 150 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        menuBackButtonHeight = 75 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        activityButtonWidth = 150 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        activityButtonHeight = 75 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        popupMenuWidth = 35;</b>
<b class="fc">&nbsp;        popupMenuHeight = 10;</b>
<b class="fc">&nbsp;        font.getData().setScale(game.scaleFactorX, game.scaleFactorY);</b>
<b class="fc">&nbsp;        durationFont.getData().setScale(3f * game.scaleFactorX, 3f * game.scaleFactorY);</b>
&nbsp;
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    private void calculatePositions() {
<b class="fc">&nbsp;        menuButtonX = 10 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        menuButtonY = game.screenHeight - menuButtonHeight - 10 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        energyBarX = 30 * game.scaleFactorX + menuButtonWidth;</b>
<b class="fc">&nbsp;        energyBarY = game.screenHeight - energyBarHeight - 10 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        counterBackgroundX = game.screenWidth - counterBackgroundWidth;</b>
<b class="fc">&nbsp;        counterBackgroundY = game.screenHeight - counterBackgroundHeight;</b>
<b class="fc">&nbsp;        durationMenuBackgroundX = game.screenWidth / 2f - durationMenuBackgroundWidth / 2f;</b>
<b class="fc">&nbsp;        durationMenuBackgroundY = game.screenHeight / 2f - durationMenuBackgroundHeight / 2f;</b>
<b class="fc">&nbsp;        durationDownButtonX = game.screenWidth / 2f - durationDownButtonWidth / 2f - 150 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        durationUpButtonX = game.screenWidth / 2f - durationUpButtonWidth / 2f + 150 * game.scaleFactorX;</b>
<b class="fc">&nbsp;        durationButtonY = game.screenHeight / 2f - durationUpButtonHeight / 2f - 60 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        menuBackButtonX = durationDownButtonX;</b>
<b class="fc">&nbsp;        activityButtonX = durationUpButtonX + durationUpButtonWidth - activityButtonWidth;</b>
<b class="fc">&nbsp;        durationMenuButtonY = durationButtonY - 125 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        menuTitleY = 730 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        durationTextY = 503 * game.scaleFactorY;</b>
<b class="fc">&nbsp;        hoursLabelY = 580 * game.scaleFactorY;</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public void render(float delta) {
<b class="nc">&nbsp;        if (!lockMovement) player.update(delta);</b>
<b class="nc">&nbsp;        if (!lockTime) updateGameTime(delta); // Update the game clock</b>
&nbsp;
<b class="nc">&nbsp;        handleInput();</b>
&nbsp;
<b class="nc">&nbsp;        ScreenUtils.clear(0, 0, 1, 1);</b>
<b class="nc">&nbsp;        drawWorldElements(delta);</b>
<b class="nc">&nbsp;        drawUIElements();</b>
<b class="nc">&nbsp;        drawGameTime(); // Draw current time</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Handles user input,
&nbsp;     * Ran every render loop of the main game
&nbsp;     */
&nbsp;    private void handleInput() {
<b class="nc">&nbsp;        if (Gdx.input.isKeyJustPressed(Input.Keys.ESCAPE)) {</b>
<b class="nc">&nbsp;            game.pause();</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;
&nbsp;    @Override
&nbsp;    public void show() {
<b class="nc">&nbsp;        Gdx.input.setInputProcessor(this);</b>
<b class="nc">&nbsp;        lockTime = false;</b>
<b class="nc">&nbsp;        player.updateGender();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Identifies which door, if any, the player is currently touching.
&nbsp;     *
&nbsp;     * @return The name of the door the player is touching or an empty string if none.
&nbsp;     */
&nbsp;    private String getDoorTouching() {
<b class="nc">&nbsp;        CollisionHandler collisionHandler = player.getCollisionHandler();</b>
<b class="nc">&nbsp;        if (collisionHandler.isTouching(&quot;Comp_sci_door&quot;, player.getHitBox())) return &quot;Comp_sci_door&quot;;</b>
<b class="nc">&nbsp;        if (collisionHandler.isTouching(&quot;Piazza_door&quot;, player.getHitBox())) return &quot;Piazza_door&quot;;</b>
<b class="nc">&nbsp;        if (collisionHandler.isTouching(&quot;Gym_door&quot;, player.getHitBox())) return &quot;Gym_door&quot;;</b>
<b class="nc">&nbsp;        if (collisionHandler.isTouching(&quot;Goodricke_door&quot;, player.getHitBox())) return &quot;Goodricke_door&quot;;</b>
<b class="nc">&nbsp;        if (collisionHandler.isTouching(&quot;pier&quot;, player.getHitBox())) return &quot;pier&quot;;</b>
<b class="nc">&nbsp;        return &quot;&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Determines the menu title based on the current activity selected by the player.
&nbsp;     *
&nbsp;     * @return The title for the menu based on the current activity.
&nbsp;     */
&nbsp;    private String getMenuTitle() {
<b class="nc">&nbsp;        switch (activity) {</b>
&nbsp;            case &quot;feed-ducks&quot;:
<b class="nc">&nbsp;                return &quot;Feed the ducks&quot;;</b>
&nbsp;            case &quot;study&quot;:
<b class="nc">&nbsp;                return &quot;Study Schedule&quot;;</b>
&nbsp;            case &quot;sleep&quot;:
<b class="nc">&nbsp;                return &quot;Sleep Early&quot;;</b>
&nbsp;            case &quot;exercise&quot;:
<b class="nc">&nbsp;                return &quot;Exercise&quot;;</b>
&nbsp;            default:
<b class="nc">&nbsp;                return &quot;&quot;;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Retrieves the appropriate button texture based on the current activity.
&nbsp;     *
&nbsp;     * @return The texture for the activity button.
&nbsp;     */
&nbsp;    private Texture getActivityButton() {
<b class="nc">&nbsp;        switch (activity) {</b>
&nbsp;            case &quot;study&quot;:
<b class="nc">&nbsp;                return menuStudyButton;</b>
&nbsp;            case &quot;sleep&quot;:
<b class="nc">&nbsp;                return menuSleepButton;</b>
&nbsp;            case &quot;exercise&quot;:
<b class="nc">&nbsp;                return menuGoButton;</b>
&nbsp;            case &quot;feed-ducks&quot;:
<b class="nc">&nbsp;                return feedDuckButton;</b>
&nbsp;            default:
<b class="nc">&nbsp;                return null;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Checks if the cursor is hovering over a menu option and changes its color accordingly.
&nbsp;     *
&nbsp;     * @param posX The X position of the menu option.
&nbsp;     * @param posY The Y position of the menu option.
&nbsp;     */
&nbsp;    private void isHovering(float posX, float posY) {
<b class="nc">&nbsp;        int mouseX = Gdx.input.getX();</b>
<b class="nc">&nbsp;        int mouseY = game.screenHeight - Gdx.input.getY();</b>
<b class="nc">&nbsp;        Vector3 menuOpt = camera.project(new Vector3(posX, posY, 0));</b>
<b class="nc">&nbsp;        if (mouseX &gt;= menuOpt.x &amp;&amp; mouseX &lt;= menuOpt.x + popupMenuWidth * zoom &amp;&amp; mouseY &gt;= menuOpt.y &amp;&amp; mouseY</b>
&nbsp;                &lt;= menuOpt.y + popupMenuHeight * zoom)
<b class="nc">&nbsp;            game.batch.setColor(shader);</b>
&nbsp;        else
<b class="nc">&nbsp;            game.batch.setColor(Color.WHITE);</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Draws a menu option at the specified position with a specified text and shade option.
&nbsp;     *
&nbsp;     * @param posX        The X position of the menu option.
&nbsp;     * @param posY        The Y position of the menu option.
&nbsp;     * @param text        The text to display on the menu option.
&nbsp;     * @param shadeOption Determines the shade of the menu option.
&nbsp;     */
&nbsp;    private void drawMenuOption(float posX, float posY, String text, int shadeOption) {
<b class="nc">&nbsp;        if (shadeOption == 0) isHovering(posX, posY);</b>
<b class="nc">&nbsp;        else if (shadeOption == 1) game.batch.setColor(Color.WHITE);</b>
<b class="nc">&nbsp;        else if (shadeOption == 2) game.batch.setColor(shader);</b>
<b class="nc">&nbsp;        GlyphLayout layout = new GlyphLayout();</b>
<b class="nc">&nbsp;        layout.setText(popupFont, text);</b>
<b class="nc">&nbsp;        game.batch.draw(popupMenu, posX, posY, popupMenuWidth, popupMenuHeight);</b>
<b class="nc">&nbsp;        popupFont.draw(game.batch, text, posX + (popupMenuWidth - layout.width) / 2, posY + (popupMenuHeight</b>
<b class="nc">&nbsp;                + layout.height) / 2f - popupFont.getDescent() - layout.height / 4f);</b>
<b class="nc">&nbsp;        game.batch.setColor(Color.WHITE);</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Renders the menu for setting the duration of an activity.
&nbsp;     * This functionality of the popup menu (along with all the other methods that relate to this functionality)
&nbsp;     * should be segregated into its own class to reduce overheads and processing delay.
&nbsp;     */
&nbsp;    private void drawDurationMenu() {
<b class="nc">&nbsp;        game.batch.begin();</b>
&nbsp;        Texture activityButton;
&nbsp;        String title;
<b class="nc">&nbsp;        activityButton = getActivityButton();</b>
<b class="nc">&nbsp;        title = getMenuTitle();</b>
&nbsp;
<b class="nc">&nbsp;        game.batch.draw(durationMenuBackground, durationMenuBackgroundX, durationMenuBackgroundY,</b>
&nbsp;                durationMenuBackgroundWidth, durationMenuBackgroundHeight);
<b class="nc">&nbsp;        game.batch.draw(menuBackButton, menuBackButtonX, durationMenuButtonY, menuBackButtonWidth,</b>
&nbsp;                menuBackButtonHeight);
<b class="nc">&nbsp;        game.batch.draw(activityButton, activityButtonX, durationMenuButtonY, activityButtonWidth,</b>
&nbsp;                activityButtonHeight);
<b class="nc">&nbsp;        durationFont.draw(game.batch, title, 0, menuTitleY, game.screenWidth, Align.center, false);</b>
&nbsp;
<b class="nc">&nbsp;        if (!activity.equals(&quot;sleep&quot;)) {</b>
<b class="nc">&nbsp;            game.batch.draw(durationDownButton, durationDownButtonX, durationButtonY, durationDownButtonWidth,</b>
&nbsp;                    durationDownButtonHeight);
<b class="nc">&nbsp;            game.batch.draw(durationUpButton, durationUpButtonX, durationButtonY, durationUpButtonWidth,</b>
&nbsp;                    durationUpButtonHeight);
<b class="nc">&nbsp;            durationFont.draw(game.batch, Integer.toString(duration), 0, durationTextY, game.screenWidth,</b>
&nbsp;                    Align.center, false);
<b class="nc">&nbsp;            durationFont.draw(game.batch, &quot;Hours&quot;, 0, hoursLabelY, game.screenWidth, Align.center, false);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        game.batch.end();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Draws the popup menu for interaction with various doors.
&nbsp;     */
&nbsp;    private void drawPopUpMenu() {
<b class="nc">&nbsp;        popupMenuType = getDoorTouching();</b>
<b class="nc">&nbsp;        switch (popupMenuType) {</b>
&nbsp;            case &quot;pier&quot;:
<b class="nc">&nbsp;                drawMenuOption(player.worldX + 30, player.worldY + 20, &quot;Feed&quot;, 0);</b>
<b class="nc">&nbsp;                popupVisible = true;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;Comp_sci_door&quot;:
<b class="nc">&nbsp;                drawMenuOption(player.worldX + 30, player.worldY + 20, &quot;Study&quot;, 0);</b>
<b class="nc">&nbsp;                popupVisible = true;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;Piazza_door&quot;:
<b class="nc">&nbsp;                drawMenuOption(player.worldX + 30, player.worldY + 20, &quot;Study&quot;, 0);</b>
<b class="nc">&nbsp;                drawMenuOption(player.worldX + 30, player.worldY + 35, &quot;Eat&quot;, 0);</b>
<b class="nc">&nbsp;                popupVisible = true;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;Gym_door&quot;:
<b class="nc">&nbsp;                drawMenuOption(player.worldX + 30, player.worldY + 20, &quot;Exercise&quot;, 0);</b>
<b class="nc">&nbsp;                popupVisible = true;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;Goodricke_door&quot;:
&nbsp;                int shadeOption;
<b class="nc">&nbsp;                if (gameTime.currentHour &gt;= 20) {</b>
<b class="nc">&nbsp;                    popupVisible = true;</b>
<b class="nc">&nbsp;                    shadeOption = 0;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    popupVisible = false;</b>
<b class="nc">&nbsp;                    shadeOption = 2;</b>
&nbsp;                }
<b class="nc">&nbsp;                drawMenuOption(player.worldX + 30, player.worldY + 20, &quot;Sleep&quot;, shadeOption);</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            default:
<b class="nc">&nbsp;                popupVisible = false;</b>
&nbsp;                break;
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Draws a shade overlay on the screen with a specified alpha transparency.
&nbsp;     *
&nbsp;     * @param alpha The transparency level of the overlay.
&nbsp;     */
&nbsp;    private void drawShadeOverlay(float alpha) {
<b class="nc">&nbsp;        Gdx.gl.glEnable(GL20.GL_BLEND);</b>
<b class="nc">&nbsp;        shapeRenderer.setProjectionMatrix(camera.combined);</b>
<b class="nc">&nbsp;        shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);</b>
<b class="nc">&nbsp;        shapeRenderer.setColor(0, 0, 0, alpha); // Adjust alpha for darkness</b>
<b class="nc">&nbsp;        shapeRenderer.rect(0, 0, gameMap.getWidth(), gameMap.getHeight());</b>
<b class="nc">&nbsp;        shapeRenderer.end();</b>
<b class="nc">&nbsp;        Gdx.gl.glDisable(GL20.GL_BLEND);</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Initiates the fade out process and optionally resets the player&#39;s position.
&nbsp;     *
&nbsp;     * @param resetPos A boolean indicating whether to reset the player&#39;s position.
&nbsp;     */
&nbsp;    private void executeFadeOut(boolean resetPos) {
<b class="nc">&nbsp;        if (fadeOut) return;</b>
<b class="nc">&nbsp;        fadeOut = true;</b>
<b class="nc">&nbsp;        lockMovement = true;</b>
<b class="nc">&nbsp;        lockTime = true;</b>
<b class="nc">&nbsp;        lockPopup = true;</b>
<b class="nc">&nbsp;        showMenu = false;</b>
<b class="nc">&nbsp;        this.resetPos = resetPos;</b>
<b class="nc">&nbsp;        minShade = gameTime.timeElapsed / gameTime.secondsPerGameHour &gt; 11 ? (gameTime.timeElapsed - 11 * gameTime.secondsPerGameHour) / (</b>
<b class="nc">&nbsp;                gameDayLengthInSeconds - 11 * gameTime.secondsPerGameHour) : 0;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Manages the stepwise execution of the fade-out effect.
&nbsp;     *
&nbsp;     * @param delta The time elapsed since the last frame.
&nbsp;     */
&nbsp;    private void fadeOutStep(float delta) {
<b class="nc">&nbsp;        if (fadeOut) {</b>
<b class="nc">&nbsp;            if (fadeTime == 0)</b>
<b class="nc">&nbsp;                fadeTime = minShade;</b>
&nbsp;
<b class="nc">&nbsp;            if (fadeTime &lt;= 1) {</b>
<b class="nc">&nbsp;                fadeTime += delta;</b>
<b class="nc">&nbsp;                drawShadeOverlay(fadeTime);</b>
&nbsp;            } else {
<b class="nc">&nbsp;                if (resetPos) {</b>
<b class="nc">&nbsp;                    player.setPos(1389, 635);</b>
<b class="nc">&nbsp;                    player.setDirection(&#39;D&#39;);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                fadeTime = 0;</b>
<b class="nc">&nbsp;                fadeOut = false;</b>
<b class="nc">&nbsp;                lockTime = false;</b>
<b class="nc">&nbsp;                lockMovement = false;</b>
<b class="nc">&nbsp;                lockPopup = false;</b>
<b class="nc">&nbsp;                resetPos = false;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Renders the game world elements including the map and player.
&nbsp;     *
&nbsp;     * @param delta The time elapsed since the last frame.
&nbsp;     */
&nbsp;    private void drawWorldElements(float delta) {
<b class="nc">&nbsp;        gameMap.update(delta);</b>
<b class="nc">&nbsp;        gameMap.render();</b>
<b class="nc">&nbsp;        game.batch.setProjectionMatrix(camera.combined);</b>
<b class="nc">&nbsp;        game.batch.begin();</b>
<b class="nc">&nbsp;        game.batch.draw(player.getCurrentFrame(), player.worldX, player.worldY, Player.spriteX, Player.spriteY);</b>
<b class="nc">&nbsp;        if (!lockPopup) drawPopUpMenu();</b>
<b class="nc">&nbsp;        game.batch.end();</b>
<b class="nc">&nbsp;        if (!fadeOut &amp;&amp; gameTime.timeElapsed / gameTime.secondsPerGameHour &gt; 11) drawShadeOverlay((gameTime.timeElapsed - 11</b>
&nbsp;                * gameTime.secondsPerGameHour) / (gameDayLengthInSeconds - 11 * gameTime.secondsPerGameHour));
<b class="nc">&nbsp;        fadeOutStep(delta);</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Renders the UI elements of the game.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;checkstyle:AbbreviationAsWordInName&quot;)
&nbsp;    private void drawUIElements() {
<b class="nc">&nbsp;        final String counterString = String.format(&quot;Recreation Activities done: &quot; + recActivity + &quot;\nStudy hours: &quot;</b>
<b class="nc">&nbsp;                + studyHours + &quot;\nMeals Eaten: &quot; + mealCount, dayNum, gameTime.timeElapsed);</b>
<b class="nc">&nbsp;        game.batch.setProjectionMatrix(game.defaultCamera.combined);</b>
<b class="nc">&nbsp;        if (showMenu &amp;&amp; !activity.equals(&quot;feed-ducks&quot;)) drawDurationMenu();</b>
<b class="nc">&nbsp;        game.batch.begin();</b>
<b class="nc">&nbsp;        game.batch.draw(menuButton, menuButtonX, menuButtonY, menuButtonWidth, menuButtonHeight);</b>
<b class="nc">&nbsp;        game.batch.draw(energyBar, energyBarX, energyBarY, energyBarWidth, energyBarHeight);</b>
<b class="nc">&nbsp;        game.batch.draw(counterBackground, counterBackgroundX, counterBackgroundY, counterBackgroundWidth,</b>
&nbsp;                counterBackgroundHeight);
<b class="nc">&nbsp;        font.draw(game.batch, counterString, game.screenWidth - 320 * game.scaleFactorX, game.screenHeight - 40</b>
&nbsp;                * game.scaleFactorY);
<b class="nc">&nbsp;        game.batch.end();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Updates the game time and handles the transition from day to night.
&nbsp;     *
&nbsp;     * @param delta The time elapsed since the last frame.
&nbsp;     */
&nbsp;    public void updateGameTime(float delta) {
<b class="nc">&nbsp;        if (gameTime.isUpdateGameTime(delta)) { // If it reaches 12 AM, reset to 8 AM the next day</b>
<b class="nc">&nbsp;            if (dayNum == 7) {</b>
<b class="nc">&nbsp;                score.computeFinalScore(eatAch.getStreak(), sleepAch.getStreak(), recAch.getStreak());</b>
<b class="nc">&nbsp;                game.create();</b>
<b class="nc">&nbsp;                game.screenManager.setScreen(ScreenType.END_SCREEN);</b>
&nbsp;            }
<b class="nc">&nbsp;            resetDay();</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Resets the game day, including resetting time and increasing the day counter.
&nbsp;     */
&nbsp;    private void resetDay() {
<b class="nc">&nbsp;        executeFadeOut(true);</b>
&nbsp;
<b class="nc">&nbsp;        if (dailyStudyHours &gt; 4)</b>
<b class="nc">&nbsp;            score.markAsOverstudied();</b>
&nbsp;
<b class="nc">&nbsp;        score.updateScore();</b>
&nbsp;
<b class="nc">&nbsp;        if (!dayStudied) {</b>
<b class="nc">&nbsp;            if (score.getMissedStudySessions() == 0)</b>
<b class="nc">&nbsp;                score.incrementMissed();</b>
<b class="nc">&nbsp;            score.incrementNoStudy();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        gameTime.resetGameTime();</b>
<b class="nc">&nbsp;        dayNum++;</b>
<b class="nc">&nbsp;        dailyStudyHours = 0;</b>
<b class="nc">&nbsp;        energyCounter += 4;</b>
<b class="nc">&nbsp;        hasExercised = false;</b>
<b class="nc">&nbsp;        hasEaten = false;</b>
<b class="nc">&nbsp;        dayStudied = false;</b>
<b class="nc">&nbsp;        score.resetMultipliers();</b>
<b class="nc">&nbsp;        if (energyCounter &gt; 10) energyCounter = 10;</b>
<b class="nc">&nbsp;        energyBar.dispose();</b>
<b class="nc">&nbsp;        energyBar = setEnergyBar();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Draws the game time display.
&nbsp;     */
&nbsp;    private void drawGameTime() {
&nbsp;        // Adjust the format if you want to display minutes or seconds
<b class="nc">&nbsp;        String timeString = String.format(&quot;Day: %d       Time: %02d:00&quot;, dayNum, gameTime.currentHour % 24);</b>
<b class="nc">&nbsp;        game.batch.begin();</b>
<b class="nc">&nbsp;        font.draw(game.batch, timeString, game.screenWidth - 320 * game.scaleFactorX, game.screenHeight - 15</b>
&nbsp;                * game.scaleFactorY);
<b class="nc">&nbsp;        game.batch.end();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the texture for the energy bar based on the current energy level.
&nbsp;     *
&nbsp;     * @return The texture of the current energy bar.
&nbsp;     */
&nbsp;    public Texture setEnergyBar() {
<b class="pc">&nbsp;        if (energyCounter &gt; 0)</b>
<b class="fc">&nbsp;            return new Texture(&quot;energy/energy_&quot; + energyCounter + &quot;.png&quot;);</b>
&nbsp;        else
<b class="nc">&nbsp;            return new Texture(&quot;energy/energy_0.png&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getEnergyCounter() {
<b class="fc">&nbsp;        return energyCounter;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMealCount() {
<b class="fc">&nbsp;        return mealCount;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Handles touch input from the user, managing interactions with UI elements and game objects.
&nbsp;     *
&nbsp;     * @param touchX  The x-coordinate of the touch.
&nbsp;     * @param touchY  The y-coordinate of the touch.
&nbsp;     * @param pointer The pointer for the event.
&nbsp;     * @param button  The button that was pressed.
&nbsp;     * @return true if the input was processed, false otherwise.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public boolean touchDown(int touchX, int touchY, int pointer, int button) {
<b class="nc">&nbsp;        touchY = game.screenHeight - touchY;</b>
&nbsp;
<b class="nc">&nbsp;        if (touchX &gt;= menuButtonX &amp;&amp; touchX &lt;= menuButtonX + menuButtonWidth &amp;&amp; touchY &gt;= menuButtonY</b>
&nbsp;                &amp;&amp; touchY &lt;= menuButtonY + menuButtonHeight) {
<b class="nc">&nbsp;            game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;            game.screenManager.setScreen(ScreenType.MAIN_MENU);</b>
<b class="nc">&nbsp;        } else if (showMenu) {</b>
<b class="nc">&nbsp;            switch (activity) {</b>
&nbsp;                case &quot;study&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= durationUpButtonX &amp;&amp; touchX &lt;= durationUpButtonX + durationUpButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationButtonY &amp;&amp; touchY &lt;= durationButtonY + durationUpButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (duration &lt; 4)</b>
<b class="nc">&nbsp;                            duration++;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= durationDownButtonX &amp;&amp; touchX &lt;= durationDownButtonX + durationDownButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationButtonY &amp;&amp; touchY &lt;= durationButtonY + durationDownButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (duration &gt; 1)</b>
<b class="nc">&nbsp;                            duration--;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= menuBackButtonX &amp;&amp; touchX &lt;= menuBackButtonX + menuBackButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationMenuButtonY &amp;&amp; touchY &lt;= durationMenuButtonY + menuBackButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = false;</b>
<b class="nc">&nbsp;                        lockMovement = fadeOut;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= activityButtonX &amp;&amp; touchX &lt;= activityButtonX + activityButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationMenuButtonY &amp;&amp; touchY &lt;= durationMenuButtonY + activityButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = false;</b>
<b class="nc">&nbsp;                        lockMovement = fadeOut;</b>
<b class="nc">&nbsp;                        studyHours += duration;</b>
<b class="nc">&nbsp;                        dailyStudyHours += duration;</b>
<b class="nc">&nbsp;                        score.incrementStudy(studyHours);</b>
&nbsp;
<b class="nc">&nbsp;                        if (score.getMissedStudySessions() == 1) {</b>
<b class="nc">&nbsp;                            score.incrementMissed();</b>
<b class="nc">&nbsp;                            score.incrementStudy(studyHours);</b>
<b class="nc">&nbsp;                            score.decrementNoStudy();</b>
&nbsp;                        }
&nbsp;
<b class="nc">&nbsp;                        dayStudied = true;</b>
<b class="nc">&nbsp;                        if (energyCounter &gt; (duration + 1) / 2)</b>
<b class="nc">&nbsp;                            energyCounter -= (duration + 1) / 2;</b>
<b class="nc">&nbsp;                        energyBar.dispose();</b>
<b class="nc">&nbsp;                        energyBar = setEnergyBar();</b>
<b class="nc">&nbsp;                        gameTime.updateGameTimeActivity(duration);</b>
<b class="nc">&nbsp;                        game.screenManager.setScreen(ScreenType.MINI_GAME, duration);</b>
&nbsp;                    }
&nbsp;
&nbsp;                    break;
&nbsp;
&nbsp;                case &quot;exercise&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= durationUpButtonX &amp;&amp; touchX &lt;= durationUpButtonX + durationUpButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationButtonY &amp;&amp; touchY &lt;= durationButtonY + durationUpButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (duration &lt; 4)</b>
<b class="nc">&nbsp;                            duration++;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= durationDownButtonX &amp;&amp; touchX &lt;= durationDownButtonX + durationDownButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationButtonY &amp;&amp; touchY &lt;= durationButtonY + durationDownButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (duration &gt; 1)</b>
<b class="nc">&nbsp;                            duration--;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= menuBackButtonX &amp;&amp; touchX &lt;= menuBackButtonX + menuBackButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationMenuButtonY &amp;&amp; touchY &lt;= durationMenuButtonY + menuBackButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = false;</b>
<b class="nc">&nbsp;                        lockMovement = fadeOut;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= activityButtonX &amp;&amp; touchX &lt;= activityButtonX + activityButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationMenuButtonY &amp;&amp; touchY &lt;= durationMenuButtonY + activityButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (energyCounter &gt;= duration) {</b>
<b class="nc">&nbsp;                            executeFadeOut(false);</b>
<b class="nc">&nbsp;                            showMenu = false;</b>
<b class="nc">&nbsp;                            lockMovement = fadeOut;</b>
<b class="nc">&nbsp;                            recActivity++;</b>
<b class="nc">&nbsp;                            score.incrementRec(duration);</b>
&nbsp;
<b class="nc">&nbsp;                            if (!hasExercised) {</b>
<b class="nc">&nbsp;                                hasExercised = true;</b>
<b class="nc">&nbsp;                                recAch.incrementStreak();</b>
&nbsp;                            }
&nbsp;
<b class="nc">&nbsp;                            energyCounter -= duration;</b>
<b class="nc">&nbsp;                            energyBar.dispose();</b>
<b class="nc">&nbsp;                            energyBar = setEnergyBar();</b>
<b class="nc">&nbsp;                            gameTime.updateGameTimeActivity(duration);</b>
<b class="nc">&nbsp;                            duration = 1;</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                    break;
&nbsp;
&nbsp;                case &quot;sleep&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= durationUpButtonX &amp;&amp; touchX &lt;= durationUpButtonX + durationUpButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationButtonY &amp;&amp; touchY &lt;= durationButtonY + durationUpButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (duration &lt; 10) duration++;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= durationDownButtonX &amp;&amp; touchX &lt;= durationDownButtonX + durationDownButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationButtonY &amp;&amp; touchY &lt;= durationButtonY + durationDownButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        if (duration &gt; 1) duration--;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= menuBackButtonX &amp;&amp; touchX &lt;= menuBackButtonX + menuBackButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationMenuButtonY &amp;&amp; touchY &lt;= durationMenuButtonY + menuBackButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = false;</b>
<b class="nc">&nbsp;                        lockMovement = fadeOut;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= activityButtonX &amp;&amp; touchX &lt;= activityButtonX + activityButtonWidth</b>
&nbsp;                            &amp;&amp; touchY &gt;= durationMenuButtonY &amp;&amp; touchY &lt;= durationMenuButtonY + activityButtonHeight) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = false;</b>
<b class="nc">&nbsp;                        lockMovement = fadeOut;</b>
&nbsp;
<b class="nc">&nbsp;                        if (dayNum == 7) {</b>
<b class="nc">&nbsp;                            score.computeFinalScore(eatAch.getStreak(), sleepAch.getStreak(), recAch.getStreak());</b>
<b class="nc">&nbsp;                            game.create();</b>
<b class="nc">&nbsp;                            game.screenManager.setScreen(ScreenType.END_SCREEN);</b>
&nbsp;                        }
&nbsp;
<b class="nc">&nbsp;                        sleepAch.incrementStreak();</b>
<b class="nc">&nbsp;                        resetDay();</b>
<b class="nc">&nbsp;                        duration = 1;</b>
&nbsp;                    }
&nbsp;                    break;
&nbsp;
&nbsp;                default:
<b class="nc">&nbsp;                    return false;</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (popupVisible) {</b>
<b class="nc">&nbsp;            Vector3 studyOpt = camera.project(new Vector3(player.worldX + 30, player.worldY + 20, 0));</b>
<b class="nc">&nbsp;            Vector3 eatOpt = camera.project(new Vector3(player.worldX + 30, player.worldY + 35, 0));</b>
<b class="nc">&nbsp;            switch (popupMenuType) {</b>
&nbsp;                case &quot;pier&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= studyOpt.x &amp;&amp; touchX &lt;= studyOpt.x + popupMenuWidth * zoom &amp;&amp; touchY &gt;= studyOpt.y &amp;&amp; touchY &lt;= studyOpt.y + popupMenuHeight * zoom) {</b>
<b class="nc">&nbsp;                        activity = &quot;feed-ducks&quot;;</b>
<b class="nc">&nbsp;                        showMenu = false;</b>
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        game.screenManager.setScreen(ScreenType.FEED_DUCKS, camera, gameMap, score);</b>
<b class="nc">&nbsp;                        updateGameTime(10);</b>
&nbsp;                    }
&nbsp;                    break;
&nbsp;                case &quot;Comp_sci_door&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= studyOpt.x &amp;&amp; touchX &lt;= studyOpt.x + popupMenuWidth * zoom &amp;&amp; touchY &gt;= studyOpt.y</b>
&nbsp;                            &amp;&amp; touchY &lt;= studyOpt.y + popupMenuHeight * zoom) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = true;</b>
<b class="nc">&nbsp;                        lockMovement = true;</b>
<b class="nc">&nbsp;                        activity = &quot;study&quot;;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
&nbsp;                    }
&nbsp;                    break;
&nbsp;
&nbsp;                case &quot;Piazza_door&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= studyOpt.x &amp;&amp; touchX &lt;= studyOpt.x + popupMenuWidth * zoom &amp;&amp; touchY &gt;= studyOpt.y</b>
&nbsp;                            &amp;&amp; touchY &lt;= studyOpt.y + popupMenuHeight * zoom) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = true;</b>
<b class="nc">&nbsp;                        lockMovement = true;</b>
<b class="nc">&nbsp;                        activity = &quot;study&quot;;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
<b class="nc">&nbsp;                    } else if (touchX &gt;= eatOpt.x &amp;&amp; touchX &lt;= eatOpt.x + popupMenuWidth * zoom &amp;&amp; touchY &gt;= eatOpt.y</b>
&nbsp;                            &amp;&amp; touchY &lt;= eatOpt.y + popupMenuHeight * zoom) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        game.gameData.eatingSoundActivate();</b>
<b class="nc">&nbsp;                        energyCounter += 3;</b>
<b class="nc">&nbsp;                        mealCount++;</b>
&nbsp;
<b class="nc">&nbsp;                        if (!hasEaten) {</b>
<b class="nc">&nbsp;                            eatAch.incrementStreak();</b>
<b class="nc">&nbsp;                            hasEaten = true;</b>
&nbsp;                        }
&nbsp;
<b class="nc">&nbsp;                        if (energyCounter &gt; 10) energyCounter = 10;</b>
<b class="nc">&nbsp;                        energyBar.dispose();</b>
<b class="nc">&nbsp;                        energyBar = setEnergyBar();</b>
&nbsp;                    }
&nbsp;                    break;
&nbsp;
&nbsp;                case &quot;Gym_door&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= studyOpt.x &amp;&amp; touchX &lt;= studyOpt.x + popupMenuWidth * zoom &amp;&amp; touchY &gt;= studyOpt.y</b>
&nbsp;                            &amp;&amp; touchY &lt;= studyOpt.y + popupMenuHeight * zoom) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = true;</b>
<b class="nc">&nbsp;                        lockMovement = true;</b>
<b class="nc">&nbsp;                        activity = &quot;exercise&quot;;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
&nbsp;                    }
&nbsp;                    break;
&nbsp;
&nbsp;                case &quot;Goodricke_door&quot;:
<b class="nc">&nbsp;                    if (touchX &gt;= studyOpt.x &amp;&amp; touchX &lt;= studyOpt.x + popupMenuWidth * zoom &amp;&amp; touchY &gt;= studyOpt.y</b>
&nbsp;                            &amp;&amp; touchY &lt;= studyOpt.y + popupMenuHeight * zoom) {
<b class="nc">&nbsp;                        game.gameData.buttonClickedSoundActivate();</b>
<b class="nc">&nbsp;                        showMenu = true;</b>
<b class="nc">&nbsp;                        lockMovement = true;</b>
<b class="nc">&nbsp;                        activity = &quot;sleep&quot;;</b>
<b class="nc">&nbsp;                        duration = 1;</b>
&nbsp;                    }
&nbsp;                    break;
&nbsp;
&nbsp;                default:
<b class="nc">&nbsp;                    return false;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isShowMenu() {
<b class="fc">&nbsp;        return showMenu;</b>
&nbsp;    }
&nbsp;
&nbsp;    public boolean isLockMovement() {
<b class="fc">&nbsp;        return lockMovement;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getActivity() {
<b class="fc">&nbsp;        return activity;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getDuration() {
<b class="fc">&nbsp;        return duration;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void studyClickHandler() {
<b class="fc">&nbsp;        game.gameData.buttonClickedSoundActivate();</b>
<b class="fc">&nbsp;        showMenu = true;</b>
<b class="fc">&nbsp;        lockMovement = true;</b>
<b class="fc">&nbsp;        activity = &quot;study&quot;;</b>
<b class="fc">&nbsp;        duration = 1;</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void exerciseClickHandler() {
<b class="fc">&nbsp;        game.gameData.buttonClickedSoundActivate();</b>
<b class="fc">&nbsp;        showMenu = true;</b>
<b class="fc">&nbsp;        lockMovement = true;</b>
<b class="fc">&nbsp;        activity = &quot;exercise&quot;;</b>
<b class="fc">&nbsp;        duration = 1;</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void sleepClickHandler() {
<b class="fc">&nbsp;        game.gameData.buttonClickedSoundActivate();</b>
<b class="fc">&nbsp;        showMenu = true;</b>
<b class="fc">&nbsp;        lockMovement = true;</b>
<b class="fc">&nbsp;        activity = &quot;sleep&quot;;</b>
<b class="fc">&nbsp;        duration = 1;</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void eatClickHandler() {
<b class="fc">&nbsp;        game.gameData.buttonClickedSoundActivate();</b>
<b class="fc">&nbsp;        game.gameData.eatingSoundActivate();</b>
<b class="fc">&nbsp;        energyCounter += 3;</b>
<b class="fc">&nbsp;        mealCount++;</b>
<b class="pc">&nbsp;        if (energyCounter &gt; 10) energyCounter = 10;</b>
<b class="fc">&nbsp;        energyBar.dispose();</b>
<b class="fc">&nbsp;        energyBar = setEnergyBar();</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public void resize(int i, int i1) {
<b class="nc">&nbsp;        calculateDimensions();</b>
<b class="nc">&nbsp;        calculatePositions();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public void dispose() {
<b class="nc">&nbsp;        shapeRenderer.dispose();</b>
<b class="nc">&nbsp;        menuButton.dispose();</b>
<b class="nc">&nbsp;        counterBackground.dispose();</b>
<b class="nc">&nbsp;        popupMenu.dispose();</b>
<b class="nc">&nbsp;        durationMenuBackground.dispose();</b>
<b class="nc">&nbsp;        durationUpButton.dispose();</b>
<b class="nc">&nbsp;        durationDownButton.dispose();</b>
<b class="nc">&nbsp;        menuBackButton.dispose();</b>
<b class="nc">&nbsp;        menuStudyButton.dispose();</b>
<b class="nc">&nbsp;        menuSleepButton.dispose();</b>
<b class="nc">&nbsp;        menuGoButton.dispose();</b>
<b class="nc">&nbsp;        energyBar.dispose();</b>
<b class="nc">&nbsp;        player.dispose();</b>
<b class="nc">&nbsp;        font.dispose();</b>
<b class="nc">&nbsp;        popupFont.dispose();</b>
<b class="nc">&nbsp;        durationFont.dispose();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean keyDown(int i) {
<b class="nc">&nbsp;        if (Gdx.input.isKeyJustPressed(Input.Keys.ESCAPE))</b>
<b class="nc">&nbsp;            game.screenManager.setScreen(ScreenType.MAIN_MENU);</b>
&nbsp;
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean keyUp(int i) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean keyTyped(char c) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean touchUp(int i, int i1, int i2, int i3) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean touchCancelled(int i, int i1, int i2, int i3) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean touchDragged(int i, int i1, int i2) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean mouseMoved(int i, int i1) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean scrolled(float v, float v1) {
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void lowerEnergyCounter() {
<b class="nc">&nbsp;        if (this.energyCounter == 0)</b>
<b class="nc">&nbsp;            return;</b>
<b class="nc">&nbsp;        this.energyCounter--;</b>
<b class="nc">&nbsp;        energyBar = setEnergyBar();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void incrementRecActivity() {
<b class="nc">&nbsp;        this.recActivity++;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-05-14 21:04</div>
</div>
</body>
</html>
