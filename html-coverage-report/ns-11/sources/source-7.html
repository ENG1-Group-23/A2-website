


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > TextureRegion</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.badlogic.gdx.graphics.g2d</a>
</div>

<h1>Coverage Summary for Class: TextureRegion (com.badlogic.gdx.graphics.g2d)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">TextureRegion</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    38.9%
  </span>
  <span class="absValue">
    (14/36)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    23.1%
  </span>
  <span class="absValue">
    (6/26)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    41.6%
  </span>
  <span class="absValue">
    (52/125)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*******************************************************************************
&nbsp; * Copyright 2011 See AUTHORS file.
&nbsp; * 
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; * 
&nbsp; *   http://www.apache.org/licenses/LICENSE-2.0
&nbsp; * 
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; ******************************************************************************/
&nbsp;
&nbsp;package com.badlogic.gdx.graphics.g2d;
&nbsp;
&nbsp;import com.badlogic.gdx.graphics.Texture;
&nbsp;
&nbsp;/** Defines a rectangular area of a texture. The coordinate system used has its origin in the upper left corner with the x-axis
&nbsp; * pointing to the right and the y axis pointing downwards.
&nbsp; * @author mzechner
&nbsp; * @author Nathan Sweet */
&nbsp;public class TextureRegion {
&nbsp;	Texture texture;
&nbsp;	float u, v;
&nbsp;	float u2, v2;
&nbsp;	int regionWidth, regionHeight;
&nbsp;
&nbsp;	/** Constructs a region that cannot be used until a texture and texture coordinates are set. */
<b class="fc">&nbsp;	public TextureRegion () {</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Constructs a region the size of the specified texture. */
<b class="fc">&nbsp;	public TextureRegion (Texture texture) {</b>
<b class="pc">&nbsp;		if (texture == null) throw new IllegalArgumentException(&quot;texture cannot be null.&quot;);</b>
<b class="fc">&nbsp;		this.texture = texture;</b>
<b class="fc">&nbsp;		setRegion(0, 0, texture.getWidth(), texture.getHeight());</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** @param width The width of the texture region. May be negative to flip the sprite when drawn.
&nbsp;	 * @param height The height of the texture region. May be negative to flip the sprite when drawn. */
<b class="nc">&nbsp;	public TextureRegion (Texture texture, int width, int height) {</b>
<b class="nc">&nbsp;		this.texture = texture;</b>
<b class="nc">&nbsp;		setRegion(0, 0, width, height);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** @param width The width of the texture region. May be negative to flip the sprite when drawn.
&nbsp;	 * @param height The height of the texture region. May be negative to flip the sprite when drawn. */
<b class="fc">&nbsp;	public TextureRegion (Texture texture, int x, int y, int width, int height) {</b>
<b class="fc">&nbsp;		this.texture = texture;</b>
<b class="fc">&nbsp;		setRegion(x, y, width, height);</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
<b class="nc">&nbsp;	public TextureRegion (Texture texture, float u, float v, float u2, float v2) {</b>
<b class="nc">&nbsp;		this.texture = texture;</b>
<b class="nc">&nbsp;		setRegion(u, v, u2, v2);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Constructs a region with the same texture and coordinates of the specified region. */
<b class="nc">&nbsp;	public TextureRegion (TextureRegion region) {</b>
<b class="nc">&nbsp;		setRegion(region);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Constructs a region with the same texture as the specified region and sets the coordinates relative to the specified
&nbsp;	 * region.
&nbsp;	 * @param width The width of the texture region. May be negative to flip the sprite when drawn.
&nbsp;	 * @param height The height of the texture region. May be negative to flip the sprite when drawn. */
<b class="fc">&nbsp;	public TextureRegion (TextureRegion region, int x, int y, int width, int height) {</b>
<b class="fc">&nbsp;		setRegion(region, x, y, width, height);</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Sets the texture and sets the coordinates to the size of the specified texture. */
&nbsp;	public void setRegion (Texture texture) {
<b class="nc">&nbsp;		this.texture = texture;</b>
<b class="nc">&nbsp;		setRegion(0, 0, texture.getWidth(), texture.getHeight());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** @param width The width of the texture region. May be negative to flip the sprite when drawn.
&nbsp;	 * @param height The height of the texture region. May be negative to flip the sprite when drawn. */
&nbsp;	public void setRegion (int x, int y, int width, int height) {
<b class="fc">&nbsp;		float invTexWidth = 1f / texture.getWidth();</b>
<b class="fc">&nbsp;		float invTexHeight = 1f / texture.getHeight();</b>
<b class="fc">&nbsp;		setRegion(x * invTexWidth, y * invTexHeight, (x + width) * invTexWidth, (y + height) * invTexHeight);</b>
<b class="fc">&nbsp;		regionWidth = Math.abs(width);</b>
<b class="fc">&nbsp;		regionHeight = Math.abs(height);</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
&nbsp;	public void setRegion (float u, float v, float u2, float v2) {
<b class="fc">&nbsp;		int texWidth = texture.getWidth(), texHeight = texture.getHeight();</b>
<b class="fc">&nbsp;		regionWidth = Math.round(Math.abs(u2 - u) * texWidth);</b>
<b class="fc">&nbsp;		regionHeight = Math.round(Math.abs(v2 - v) * texHeight);</b>
&nbsp;
&nbsp;		// For a 1x1 region, adjust UVs toward pixel center to avoid filtering artifacts on AMD GPUs when drawing very stretched.
<b class="pc">&nbsp;		if (regionWidth == 1 &amp;&amp; regionHeight == 1) {</b>
<b class="nc">&nbsp;			float adjustX = 0.25f / texWidth;</b>
<b class="nc">&nbsp;			u += adjustX;</b>
<b class="nc">&nbsp;			u2 -= adjustX;</b>
<b class="nc">&nbsp;			float adjustY = 0.25f / texHeight;</b>
<b class="nc">&nbsp;			v += adjustY;</b>
<b class="nc">&nbsp;			v2 -= adjustY;</b>
&nbsp;		}
&nbsp;
<b class="fc">&nbsp;		this.u = u;</b>
<b class="fc">&nbsp;		this.v = v;</b>
<b class="fc">&nbsp;		this.u2 = u2;</b>
<b class="fc">&nbsp;		this.v2 = v2;</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Sets the texture and coordinates to the specified region. */
&nbsp;	public void setRegion (TextureRegion region) {
<b class="nc">&nbsp;		texture = region.texture;</b>
<b class="nc">&nbsp;		setRegion(region.u, region.v, region.u2, region.v2);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Sets the texture to that of the specified region and sets the coordinates relative to the specified region. */
&nbsp;	public void setRegion (TextureRegion region, int x, int y, int width, int height) {
<b class="fc">&nbsp;		texture = region.texture;</b>
<b class="fc">&nbsp;		setRegion(region.getRegionX() + x, region.getRegionY() + y, width, height);</b>
<b class="fc">&nbsp;	}</b>
&nbsp;
&nbsp;	public Texture getTexture () {
<b class="fc">&nbsp;		return texture;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setTexture (Texture texture) {
<b class="nc">&nbsp;		this.texture = texture;</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public float getU () {
<b class="nc">&nbsp;		return u;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setU (float u) {
<b class="nc">&nbsp;		this.u = u;</b>
<b class="nc">&nbsp;		regionWidth = Math.round(Math.abs(u2 - u) * texture.getWidth());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public float getV () {
<b class="nc">&nbsp;		return v;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setV (float v) {
<b class="nc">&nbsp;		this.v = v;</b>
<b class="nc">&nbsp;		regionHeight = Math.round(Math.abs(v2 - v) * texture.getHeight());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public float getU2 () {
<b class="nc">&nbsp;		return u2;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setU2 (float u2) {
<b class="nc">&nbsp;		this.u2 = u2;</b>
<b class="nc">&nbsp;		regionWidth = Math.round(Math.abs(u2 - u) * texture.getWidth());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public float getV2 () {
<b class="nc">&nbsp;		return v2;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setV2 (float v2) {
<b class="nc">&nbsp;		this.v2 = v2;</b>
<b class="nc">&nbsp;		regionHeight = Math.round(Math.abs(v2 - v) * texture.getHeight());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public int getRegionX () {
<b class="fc">&nbsp;		return Math.round(u * texture.getWidth());</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setRegionX (int x) {
<b class="nc">&nbsp;		setU(x / (float)texture.getWidth());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public int getRegionY () {
<b class="fc">&nbsp;		return Math.round(v * texture.getHeight());</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setRegionY (int y) {
<b class="nc">&nbsp;		setV(y / (float)texture.getHeight());</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Returns the region&#39;s width. */
&nbsp;	public int getRegionWidth () {
<b class="fc">&nbsp;		return regionWidth;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setRegionWidth (int width) {
<b class="nc">&nbsp;		if (isFlipX()) {</b>
<b class="nc">&nbsp;			setU(u2 + width / (float)texture.getWidth());</b>
&nbsp;		} else {
<b class="nc">&nbsp;			setU2(u + width / (float)texture.getWidth());</b>
&nbsp;		}
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Returns the region&#39;s height. */
&nbsp;	public int getRegionHeight () {
<b class="fc">&nbsp;		return regionHeight;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setRegionHeight (int height) {
<b class="nc">&nbsp;		if (isFlipY()) {</b>
<b class="nc">&nbsp;			setV(v2 + height / (float)texture.getHeight());</b>
&nbsp;		} else {
<b class="nc">&nbsp;			setV2(v + height / (float)texture.getHeight());</b>
&nbsp;		}
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public void flip (boolean x, boolean y) {
<b class="nc">&nbsp;		if (x) {</b>
<b class="nc">&nbsp;			float temp = u;</b>
<b class="nc">&nbsp;			u = u2;</b>
<b class="nc">&nbsp;			u2 = temp;</b>
&nbsp;		}
<b class="nc">&nbsp;		if (y) {</b>
<b class="nc">&nbsp;			float temp = v;</b>
<b class="nc">&nbsp;			v = v2;</b>
<b class="nc">&nbsp;			v2 = temp;</b>
&nbsp;		}
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	public boolean isFlipX () {
<b class="nc">&nbsp;		return u &gt; u2;</b>
&nbsp;	}
&nbsp;
&nbsp;	public boolean isFlipY () {
<b class="nc">&nbsp;		return v &gt; v2;</b>
&nbsp;	}
&nbsp;
&nbsp;	/** Offsets the region relative to the current region. Generally the region&#39;s size should be the entire size of the texture in
&nbsp;	 * the direction(s) it is scrolled.
&nbsp;	 * @param xAmount The percentage to offset horizontally.
&nbsp;	 * @param yAmount The percentage to offset vertically. This is done in texture space, so up is negative. */
&nbsp;	public void scroll (float xAmount, float yAmount) {
<b class="nc">&nbsp;		if (xAmount != 0) {</b>
<b class="nc">&nbsp;			float width = (u2 - u) * texture.getWidth();</b>
<b class="nc">&nbsp;			u = (u + xAmount) % 1;</b>
<b class="nc">&nbsp;			u2 = u + width / texture.getWidth();</b>
&nbsp;		}
<b class="nc">&nbsp;		if (yAmount != 0) {</b>
<b class="nc">&nbsp;			float height = (v2 - v) * texture.getHeight();</b>
<b class="nc">&nbsp;			v = (v + yAmount) % 1;</b>
<b class="nc">&nbsp;			v2 = v + height / texture.getHeight();</b>
&nbsp;		}
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	/** Helper method to create tiles out of this TextureRegion starting from the top left corner going to the right and ending at
&nbsp;	 * the bottom right corner. Only complete tiles will be returned so if the region&#39;s width or height are not a multiple of the
&nbsp;	 * tile width and height not all of the region will be used. This will not work on texture regions returned from a TextureAtlas
&nbsp;	 * that either have whitespace removed or where flipped before the region is split.
&nbsp;	 * 
&nbsp;	 * @param tileWidth a tile&#39;s width in pixels
&nbsp;	 * @param tileHeight a tile&#39;s height in pixels
&nbsp;	 * @return a 2D array of TextureRegions indexed by [row][column]. */
&nbsp;	public TextureRegion[][] split (int tileWidth, int tileHeight) {
<b class="fc">&nbsp;		int x = getRegionX();</b>
<b class="fc">&nbsp;		int y = getRegionY();</b>
<b class="fc">&nbsp;		int width = regionWidth;</b>
<b class="fc">&nbsp;		int height = regionHeight;</b>
&nbsp;
<b class="fc">&nbsp;		int rows = height / tileHeight;</b>
<b class="fc">&nbsp;		int cols = width / tileWidth;</b>
&nbsp;
<b class="fc">&nbsp;		int startX = x;</b>
<b class="fc">&nbsp;		TextureRegion[][] tiles = new TextureRegion[rows][cols];</b>
<b class="fc">&nbsp;		for (int row = 0; row &lt; rows; row++, y += tileHeight) {</b>
<b class="fc">&nbsp;			x = startX;</b>
<b class="fc">&nbsp;			for (int col = 0; col &lt; cols; col++, x += tileWidth) {</b>
<b class="fc">&nbsp;				tiles[row][col] = new TextureRegion(texture, x, y, tileWidth, tileHeight);</b>
&nbsp;			}
&nbsp;		}
&nbsp;
<b class="fc">&nbsp;		return tiles;</b>
&nbsp;	}
&nbsp;
&nbsp;	/** Helper method to create tiles out of the given {@link Texture} starting from the top left corner going to the right and
&nbsp;	 * ending at the bottom right corner. Only complete tiles will be returned so if the texture&#39;s width or height are not a
&nbsp;	 * multiple of the tile width and height not all of the texture will be used.
&nbsp;	 * 
&nbsp;	 * @param texture the Texture
&nbsp;	 * @param tileWidth a tile&#39;s width in pixels
&nbsp;	 * @param tileHeight a tile&#39;s height in pixels
&nbsp;	 * @return a 2D array of TextureRegions indexed by [row][column]. */
&nbsp;	public static TextureRegion[][] split (Texture texture, int tileWidth, int tileHeight) {
<b class="fc">&nbsp;		TextureRegion region = new TextureRegion(texture);</b>
<b class="fc">&nbsp;		return region.split(tileWidth, tileHeight);</b>
&nbsp;	}
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-05-14 20:57</div>
</div>
</body>
</html>
